---
title: My New Post
date: 2021-03-22 17:04:13
tags:
---

# 项目简介
本项目主要服务于律所，着力于律师更快更好地处理案件。
## 版本号
当前项目版本号书写方式为vx.x.x，其中前两个x代表10进制版本号迭代，从0.0开始，最后的x代表当前版本的Hotfix次数，从0开始。

## 开发流程
开发组每周一开始准备周四的项目交付工作，将上周开发好的最新版本在测试环境下进行测试，一旦找到Bug则马上进行Bug修复，再重新进行测试，当测试没问题后，在周四将项目部署到生产，若项目在周四前未准备完成则推迟交付。当项目上生产后，一旦出现bug则开发组需要马上进行Hotfix，修复完成后再通过测试证明没问题则重新上生产。

## 项目的结构 （个人理解，不一定正确）
- 名字中带有base或starter的是基础模块，供其他模块依赖调用
- 名字中带有third的是与第三方系统交互的封装
- 名字中带有dto的是数据包装类和枚举类
- 名字中带有client是用于微服务调用对外提供的接口
- 名字中带有war的包含微服务启动和所有业务逻辑
- 模块依赖的设置在每个模块代码的`build.gradle.kts`文件里

## 增加新模块
1. 参考类似的模块建立目录结构，添加代码
2. 在`settings.gradle.kts`文件里添加模块名
3. 如果要新引入第三方的类库，在`gradle.properties`文件里添加依赖
4. 如果有新的API URL，在`gateway-war`里`default.yml`文件中添加URL路径
5. 如果是新的微服务，找运维配置开发、测试、生产各环境微服务调用相关配置

## 项目存在的问题
有些页面显示，查询条件或报表导出时需要从多个模块获取数据，目前是通过冗余数据的做法(比如现在很多表都有人名和分所名字的字段)实现的，缺点是如果人名要修改，需要改很多地方，没有冗余的字段也无法查询或导出报表。


